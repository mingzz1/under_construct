---
layout: post
title: ! "[iOS] 아이폰 BurpSuite 및 Frida 사용 세팅하기"
excerpt_separator: <!--more-->
comments : true
categories : [Pentesting/iOS]
tags:
  - iOS
  - pen-testing
---

이번에는 모의해킹을 하는데 필요한 `BurpSuite`와 `Frida`를 탈옥한 아이폰에 세팅하는 법을 정리한다.  

<!--more-->

`Frida`를 설치하기 위해 `Cydia`를 사용하기 때문에 탈옥은 필수다.  

만약 탈옥이 안되어 있다면 아래의 글을 참고하면 될 것 같다.  

[iOS 탈옥하기](https://mingzz1.github.io/pentesting/ios/2019/12/10/iOS-jailbreak.html)

### Frida 설치  

앞서 말했듯, `Frida`를 설치하기 위해 `Cydia`가 필요하다.  

`Cydia`를 실행시킨 후 하단의 `소스 > 편집 > 추가 > URL(https://build.frida.re) 입력 > 소스추가`를 차례로 한다.  

![](images/pen-testing/ios/setting/setting_01.png)  

이 후 검색창에서 `Frida`를 검색 해 아래의 어플리케이션을 다운 받으면 된다.  

![](images/pen-testing/ios/setting/setting_02.png)  

일반적으로 `Frida`를 설치하면 `frida-server`는 자동으로 실행 중이기 때문에 따로 더 해 줄 것은 없다.  

### BurpSuite 사용 설정  

두 번째는 `BurpSuite`를 사용하기 위한 설정 방법이다.  

먼저 `설정 > Wifi > 사용 중인 Wifi 옆의 information 확인 > 하단의 프록시 구성`을 선택한다.  

`프록시 구성` 화면에서 `수동`을 선택한 후, `서버`와 `포트`를 설정 해 주면 되는데, 이 때 아이폰은 `BurpSuite`를 실행 할 PC와 같은 네트워크에 있어야 하며, `프록시 서버`의 `IP 주소`는 `PC의 IP 주소`로 적어주면 된다.  

![](images/pen-testing/ios/setting/setting_03.png)  

프록시 서버 설정을 완료 한 후에는 PC에서 `BurpSuite`를 실행하고, 아이폰의 `Safari` 어플리케이션을 이용 해 `http://burp`에 접속한다.  

그러면 아래와 같은 페이지를 확인할 수 있는데, 여기서 오른쪽 상단의 `CA Certificate`을 선택하고 `허용`을 눌러 주면 `HTTPS` 메시지를 `BurpSuite`에서 잡기 위한 인증서를 설치할 수 있다.  

![](images/pen-testing/ios/setting/setting_04.png)  

아이폰에서는 이 인증서를 설치 해 주어야 한다.  

아래와 같이 `설정 > 일반 > 기기관리 > 인증서 설치` 메뉴로 들어가 인증서를 설치한다.  

![](images/pen-testing/ios/setting/setting_05.png)  

또한 `설정 > 일반 > 정보 > 인증서 신뢰 설정 > PortSwigger CA 활성화`를 해 주어야 정상적으로 사용할 수 있다.  

![](images/pen-testing/ios/setting/setting_06.png)  