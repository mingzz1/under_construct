---
layout: post
title: ! "[iOS] iPhone 탈옥에서 순정 상태로 되돌리기"
excerpt_separator: <!--more-->
comments : true
categories : [Pentesting/iOS]
tags:
  - iOS
  - pen-testing
---

몇달 전에 내가 전에 쓰던 아이폰을 탈옥 했는데, 그러고 한두번 진단을 하고 나니 폰이 켜지기만 할 뿐 탈옥도 다시 안되고 그렇다고 다른 어플이 실행되는 것도 아닌 상태가 되었다.  

그러다 `Unc0ver`가 `iOS 13.5.5`까지 탈옥이 가능하다는 소식에 순정상태로 되돌렸다가 재 탈옥을 시도했다! ~~결론적으로 탈옥은 실패했다. 실패 이유는 아래에...~~

<!--more-->

> 아래 설명한 방법은 아이폰을 순정 상태로 되돌리는 방법이며, iTunes를 통해 새로운 펌웨어를 설치하는 형식이기 때문에 현재 기준 iTunes에서 지원하는 `가장 최신 버전을 다운`받게 된다. 때문에 탈옥이 불가능 할 수 있기 때문에 탈옥이 꼭 필요 한 경우 업데이트 버전을 잘 확인 하고 진행해야 한다.  

탈옥 된 폰을 순정상태로 되돌리기 위해선 일단 복구모드로 진입해야 한다.  

복구모드 진입 방법은 다음과 같다.  

#### 1. 아이폰을 PC와 연결  

PC에 iTunes 실행 후 아이폰을 연결 해 iTunes에서 인식하는지 확인한다.  

#### 2. 복구모드 진입  

복구모드에 진입하는 방법은 버전 별로 살짝 다르다.  

> 아이폰 6 이하 (물리 홈 버튼 존재)  
```
1. 전원을 끈다
2. 전원 버튼과 홈버튼을 동시에 누른다
3. 화면에 애플 로고가 보였다 사라지면 전원 버튼을 누른 손을 떼고 홈버튼만 누른다 (약 10초)
```

> 아이폰 7이상 (물리 홈 버튼 X)  
```
1. 전원이 꺼진 상태에서 전원 버튼을 3초간 누른다
2. 전원 버튼을 누른 상태로 볼륨 다운 버튼을 누른다 (약 10초)
3. 애플 로고가 사라지면 전원 버튼을 떼고 볼륨 다운 버튼만 누른다
```

만약 복구 모드로 제대로 진입한다면 아래와 같이 iTunes 화면에 `iTunes가 복구 모드에 있는 iPhone을 발견했습니다.` 라는 메시지가 나타난다.  

![](/images/pen-testing/ios/reset_jailbreak/01.png)  

위의 창이 뜨면 확인을 누르고 `iPhone 초기화` 버튼을 선택한다.  

![](/images/pen-testing/ios/reset_jailbreak/02.png)  

그러면 아래와 같이 알림 창이 뜰텐데, `복원 및 업데이트`를 누르면 복원이 진행된다.  

![](/images/pen-testing/ios/reset_jailbreak/03.png)  

복원을 시작하면 아래와 같은 창이 뜨며 아래의 순서대로 진행한다.  

```
소프트웨어 꺼내는 중 > 복원을 위해 iPhone 준비 중 > iPhone을 기다리는 중 > Apple과 iPhone 복원 확인 중 > iPhone 소프트웨어 복원 중 > iPhone 소프트웨어 확인 중 > iPhone 펌웨어 복원 중
```

![](/images/pen-testing/ios/reset_jailbreak/04.png)  

모든 단계가 끝나면 복원이 완료되었다는 팝업 창이 뜨며 아이폰이 재부팅 된다.  

이 때도 아이폰을 PC에서 분리하면 안된다.  

![](/images/pen-testing/ios/reset_jailbreak/05.png)  

재부팅이 완료되면 아래처럼 `iTunes`에서 나타난다.  

![](/images/pen-testing/ios/reset_jailbreak/06.png)  

업데이트 한 버전을 확인하고 싶으면 아래의 정보 창에서 `업데이트 확인`을 선택하면 된다.  

![](/images/pen-testing/ios/reset_jailbreak/07.png)  

그러면 팝업 창으로 버전을 알려준다.  

![](/images/pen-testing/ios/reset_jailbreak/08.png)  

휴대폰에서는 `설정 > 일단 > 소프트웨어 업데이트`에서 현재 버전을 확인할 수 있다.  

![](/images/pen-testing/ios/reset_jailbreak/09.png){: width="50%"}  

---  

이렇게 신나게 복구를 다 하고 났는데, 뭔가 이상한게 `3uTools`에서 `13.5.1`은 안되는 걸로 나왔다.  

그래서 [Unc0ver 공식 홈페이지](https://unc0ver.dev/)에 들어가서 확인 해 보니, `iOS 11부터 13.5.5`까지 지원하지만, `12.3 ~ 12.3.2, 12.4.2 ~ 12.4.77, A7 ~ A8, 13.5.1`은 지원하지 않는다고 한다.  

알고보니 현재 기준으로 `13.5.5`는 개발자를 위한 베타 버전이고, 일반 사용자에게 공개 된 최신 버전인 `13.5.1`은 `Unc0ver`를 통한 탈옥 방지 메커니즘이 들어가 있는 버전이라고 한다. ~~그걸 초기화 후에 알았....~~  

어쨌든 어플도 잘 실행되고 깨끗한 순정 상태로 돌아왔으나, 진단용으로는 아직 사용할 수 없을 것 같다.  

`13.5.1`도 탈옥할 수 있게 만들어주세요 ㅠㅠ 개발자 등록을 해야하나..ㅠㅠ
