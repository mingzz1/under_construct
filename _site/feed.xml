<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>mingzzi</title>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    <link>http://192.168.171.137:4000/</link>
    <description>mingzzi's blog</description>
    <pubDate>Mon, 15 Jun 2020 22:56:25 +0900</pubDate>
    
      <item>
        <title>[Android] 안드로이드 Burp Suite 사용 설정</title>
        <link>/pentesting/android/2020/06/08/Setting-Burp-Suite-for-Android.html</link>
        <guid isPermaLink="true">/pentesting/android/2020/06/08/Setting-Burp-Suite-for-Android.html</guid>
        <description>&lt;p&gt;안드로이드 어플리케이션 취약점 진단을 할 때 &lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;를 주로 사용한다.&lt;/p&gt;

&lt;p&gt;안드로이드 기기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;를 사용하는 방법은 다음과 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;일단 나는 주로 진단할 때 내 실 휴대폰을 사용하기에는 이런저런 제약사항과 불편함이 많아서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Nox Player&lt;/code&gt;를 사용한다.&lt;br /&gt;
(쓸데없는 어플 잔뜩 깔았다 지우기, 루팅, 업데이트 이슈 등)&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Nox Player&lt;/code&gt;는 &lt;a href=&quot;https://www.bignox.com/&quot;&gt;https://www.bignox.com/&lt;/a&gt;에서 다운받을 수 있다.&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;참고)&lt;br /&gt;
설치 후 실행 한 다음에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Nox&lt;/code&gt; 상단의 &lt;code class=&quot;highlighter-rouge&quot;&gt;설정&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;ROOT켜기&lt;/code&gt;를 선택 해 주면 루팅 된 에뮬레이터를 사용할 수 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;를 사용하기 위해서는 일단 네트워크의 프록시 설정을 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;에뮬레이터 내에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;설정 &amp;gt; Wi-Fi &amp;gt; WiredSSID&lt;/code&gt;를 선택한다.&lt;/p&gt;

&lt;p&gt;이 때, &lt;code class=&quot;highlighter-rouge&quot;&gt;WiredSSID&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;길게 눌러 주어야&lt;/code&gt; 프록시 설정 화면으로 넘어갈 수 있으며, 만약 실 휴대폰을 사용 할 경우 사용하고 있는 와이파이 네트워크를 길게 눌러 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;WiredSSID&lt;/code&gt;를 길게 누르면 아래와 같은 설정 화면이 나타난다.&lt;/p&gt;

&lt;p&gt;여기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;네트워크 수정&lt;/code&gt;을 선택하고, 아래와 같이 설정 해 준다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* 고급 옵션 체크
* 프록시 : 수동
* 프록시 호스트 이름 : Burp Suite를 실행 할 PC의 IP 주소. 같은 네트워크에 존재해야 함
* 프록시 포트 : 프록시 서버의 포트. Burp Suite에도 같은 포트를 설정 해 주어야 함
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;휴대폰에서의 설정이 끝난 후에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;에서 에뮬레이터 혹은 안드로이드 휴대폰의 패킷을 잡기 위해 설정을 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Proxy &amp;gt; Options&lt;/code&gt;를 선택하면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Proxy Listeners&lt;/code&gt;라는 메뉴가 있다.&lt;/p&gt;

&lt;p&gt;여기에서 어디를 지나가는 패킷을 잡을 지 설정할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Add&lt;/code&gt;를 눌러 모바일 기기에서의 패킷을 잡을 수 있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Listeners&lt;/code&gt;를 추가 한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Bind to port&lt;/code&gt;는 앞서 모바일 기기의 &lt;code class=&quot;highlighter-rouge&quot;&gt;프록시 포트&lt;/code&gt;에 설정 한 포트 번호를 입력한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Bind to address&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;All interfaces&lt;/code&gt;를 선택한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;OK&lt;/code&gt;를 눌러 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Proxy Listeners&lt;/code&gt;에 방금 입력 한 &lt;code class=&quot;highlighter-rouge&quot;&gt;Listener&lt;/code&gt;가 추가되어 있는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Running&lt;/code&gt;에 체크가 되어 있어야 패킷을 잡을 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기까지 하면 기본 설정은 끝이 난다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP&lt;/code&gt;를 사용하는 곳만 방문 할 경우에는 아무런 오류가 나지 않을 것이다.&lt;/p&gt;

&lt;p&gt;하지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTPS&lt;/code&gt;를 사용하는 페이지에 접속을 시도하면 아래와 같은 &lt;code class=&quot;highlighter-rouge&quot;&gt;보안 경고&lt;/code&gt;가 나온다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_07.png&quot; alt=&quot;&quot; width=&quot;50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;인증서가 없어 오류가 나는 것이므로, &lt;a href=&quot;http://burp&quot;&gt;http://burp&lt;/a&gt;를 방문하여 인증서를 설치 해 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://burp&quot;&gt;http://burp&lt;/a&gt;를 주소창에 입력하면 아래와 같은 페이지에 접속할 수 있다.&lt;/p&gt;

&lt;p&gt;만약 접속할 수 없다면 아래 내용들을 확인 해 보면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* Wi-Fi 설정에서 프록시 설정을 했는가
* Burp Suite가 켜져 있는가
* Burp Suite에 Listener가 Running 상태인가
* Proxy 메뉴에서 Intercept On으로 해 두었을 때 패킷이 잡히는가
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_08.png&quot; alt=&quot;&quot; width=&quot;50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;접속 후에는 오른쪽 상단의 &lt;code class=&quot;highlighter-rouge&quot;&gt;CA Certificate&lt;/code&gt;을 눌러 인증서를 다운받아 준다.&lt;/p&gt;

&lt;p&gt;그런데 여기서 다운받는 인증서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;cacert.der&lt;/code&gt;로, &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows PC&lt;/code&gt;에서 설치할 수 있는 형태이다.&lt;/p&gt;

&lt;p&gt;안드로이드 기기에서 설치하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;.cer&lt;/code&gt; 확장자여야 하기 때문에 이름 변경이 필요하다.&lt;/p&gt;

&lt;p&gt;이를 위해 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;를 사용한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Nox Player&lt;/code&gt;를 설치한다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;는 함께 설치되어 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Nox Player&lt;/code&gt;가 설치 된 폴더(내 경우 &lt;code class=&quot;highlighter-rouge&quot;&gt;C:\Program Files (x86)\Nox\bin&lt;/code&gt;)에 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb.exe&lt;/code&gt;가 존재한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;참고)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb.exe&lt;/code&gt;가 있는 폴더가 아니라 다른 경로에서도 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;를 실행하고 싶은 경우 &lt;code class=&quot;highlighter-rouge&quot;&gt;환경 변수&lt;/code&gt;에 등록 해 주면 된다.&lt;/p&gt;

&lt;p&gt;시작 메뉴에 &lt;code class=&quot;highlighter-rouge&quot;&gt;환경 변수&lt;/code&gt;를 검색 해 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;시스템 환경 변수 편집&lt;/code&gt;이 있다.&lt;/p&gt;

&lt;p&gt;이를 선택한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;고급 탭 &amp;gt; 환경 변수&lt;/code&gt; 메뉴를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_10.png&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하단의 &lt;code class=&quot;highlighter-rouge&quot;&gt;시스템 변수&lt;/code&gt;를 살펴 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Path&lt;/code&gt;가 있는데, 이를 선택하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;편집&lt;/code&gt; 버튼을 클릭한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_11.png&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이미 등록되어 있는 환경 변수들이 있을텐데, 가장 마지막에 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb.exe가 존재하는 경로&lt;/code&gt; 즉, &lt;code class=&quot;highlighter-rouge&quot;&gt;Nox Player가 설치되어 있는 경로&lt;/code&gt;를 입력한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;확인&lt;/code&gt;을 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_12.png&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;등록 후 재부팅을 하면 어느 위치에서든 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;를 실행할 수 있다.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;가 정상적으로 동작하는지 확인하기 위해 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb devices&lt;/code&gt;를 입력 해 보았다.&lt;/p&gt;

&lt;p&gt;아래와 같이 디바이스 정보가 뜨면 정상적으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb&lt;/code&gt;를 사용할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다운 받은 인증서의 이름을 변경하기 위해 디바이스의 쉘을 실행 시켰다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;adb shell&lt;/code&gt;을 입력하면 연결된 모바일 기기의 쉘을 실행시킬 수 있다.&lt;/p&gt;

&lt;p&gt;모든 명령어는 리눅스와 동일하기 때문에 어렵지 않게 사용할 수 있다.&lt;/p&gt;

&lt;p&gt;다운받은 인증서는 기본적으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;mnt/sdcard/Download&lt;/code&gt; 폴더에 저장되어 있다.&lt;/p&gt;

&lt;p&gt;해당 경로로 들어 가 &lt;code class=&quot;highlighter-rouge&quot;&gt;cacert.der&lt;/code&gt;를 &lt;code class=&quot;highlighter-rouge&quot;&gt;cacert.cer&lt;/code&gt;로 변경 해 주었다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# adb shell
# cd mnt/sdcard/Download/
# ls
cacert.der
# mv cacert.der cacert.cer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;PC&lt;/code&gt;에서 인증서를 다운받아 &lt;code class=&quot;highlighter-rouge&quot;&gt;adb push&lt;/code&gt;를 통해 인증서를 넣는경우에도 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;mnt/sdcard/&lt;/code&gt; 경로에 저장하면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# adb push [인증서경로] /mnt/sdcard/cacert.cer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;인증서 저장이 완료 되면 &lt;code class=&quot;highlighter-rouge&quot;&gt;설정 &amp;gt; 보안 &amp;gt; SD 카드에서 설치 &amp;gt; 내부 저장소&lt;/code&gt;를 선택 해 인증서를 저장 한 경로로 이동한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_15.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;mnt/sdcard/Download&lt;/code&gt; 아래에 저장 해 두었는데, &lt;code class=&quot;highlighter-rouge&quot;&gt;SD 카드에서 설치 &amp;gt; 내부 저장소&lt;/code&gt;를 선택했을 때 보이는 경로는 &lt;code class=&quot;highlighter-rouge&quot;&gt;mnt/sdcard&lt;/code&gt;이다.&lt;/p&gt;

&lt;p&gt;따라서 나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt;를 선택하고 해당 폴더 안의 &lt;code class=&quot;highlighter-rouge&quot;&gt;cacert.cer&lt;/code&gt;를 선택 해 주었다.&lt;/p&gt;

&lt;p&gt;인증서 선택 시 인증서 이름을 지정하라고 하는데 나는 그냥 &lt;code class=&quot;highlighter-rouge&quot;&gt;burp&lt;/code&gt;로 설정 해 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_16.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;확인&lt;/code&gt;을 눌러 주면 인증서 설치가 완료 될 것이다.&lt;/p&gt;

&lt;p&gt;다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;로 패킷을 잡아 보면 정상적으로 모바일 기기에서의 패킷이 잡히는 것을 확인할 수 있으며, 경고창도 뜨지 않는다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_17.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/android/burp_setting/burp_setting_18.png&quot; alt=&quot;&quot; width=&quot;50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;예시는 인터넷만 실행 해 보았는데, 만약 어플리케이션이 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP&lt;/code&gt; 혹은 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTPS&lt;/code&gt; 통신을 하는 경우에도 &lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;를 통해 확인할 수 있다.&lt;/p&gt;
</description>
        <pubDate>Mon, 08 Jun 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Code-Server] 웹 브라우저로 원격 서버에 접속 해 개발하기 (feat. VSCode)</title>
        <link>/development/web/2020/05/13/install_code-server.html</link>
        <guid isPermaLink="true">/development/web/2020/05/13/install_code-server.html</guid>
        <description>&lt;p&gt;회사에서 일하다 보면 Xshell은 설치할 수 없는데 원격 서버에서 뭔가 테스트용 코드를 짜야 할 일이 생긴다.&lt;/p&gt;

&lt;p&gt;그래서 찾아보게 된 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;이다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;를 사용하면 리눅스 서버에 &lt;code class=&quot;highlighter-rouge&quot;&gt;VSCode&lt;/code&gt;를 띄우고, 이를 &lt;code class=&quot;highlighter-rouge&quot;&gt;웹 브라우저&lt;/code&gt;를 사용하여 접속할 수 있도록 해 준다.&lt;/p&gt;

&lt;p&gt;때문에 노트북 뿐만 아니라, 태블릿이나 휴대폰으로도 원격 서버에 접속 해 파일을 생성하고, 개발을 할 수 있다.&lt;/p&gt;

&lt;p&gt;하지만 쉘을 실행한 것이 아니기 때문에 명령어를 실행 할 수는 없다.&lt;/p&gt;

&lt;p&gt;그래도 굳이 &lt;code class=&quot;highlighter-rouge&quot;&gt;xshell&lt;/code&gt;이나 &lt;code class=&quot;highlighter-rouge&quot;&gt;putty&lt;/code&gt;를 설치하지 않고도 웹 브라우저 만으로 파일을 생성하고 수정할 수 있기 때문에 편리하다.&lt;/p&gt;

&lt;p&gt;설치 방법 또한 매우 간단하다.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/cdr/code-server&quot;&gt;code-server Github Repository&lt;/a&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;를 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;링크에 접속해서 아래를 확인 해 보면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Releases&lt;/code&gt;가 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download a release.&lt;/code&gt;를 선택하면 최신 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;를 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;내가 다운받은 버전은 &lt;code class=&quot;highlighter-rouge&quot;&gt;3.2.0&lt;/code&gt;이다.&lt;/p&gt;

&lt;p&gt;여러 부분이 바뀌었다고 하는데, 나는 아래 표시 한 부분을 뒤늦게 발견하는 바람에 조금 삽질을 했다 ㅠㅠ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;파일이 여러개 있을텐데, 여기서 내 환경에 맞는 파일을 다운받으면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu 20.04 64bit&lt;/code&gt;를 사용했기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server-3.2.0-linux-x86-64.tar.gz&lt;/code&gt;를 다운받기로 했다.&lt;/p&gt;

&lt;p&gt;해당 파일에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;마우스 오른쪽 버튼 &amp;gt; 링크 주소 복사&lt;/code&gt;를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 후 리눅스 서버로 돌아와서 아래의 명령어를 입력 해 파일을 다운받는다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wget https://github.com/cdr/code-server/releases/download/3.2.0/code-server-3.2.0-linux-x86_64.tar.gz

...

code-server-3.2.0-linux-x 100%[====================================&amp;gt;]  66.09M   739KB/s    in 2m 13s  

2020-05-13 11:16:54 (509 KB/s) - ‘code-server-3.2.0-linux-x86_64.tar.gz’ saved [69306138/69306138]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;그러면 위와 같이 파일을 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;다운받은 파일이 압축되어 있으므로 압축을 풀어야 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tar -xvf code-server-3.2.0-linux-x86_64.tar.gz
...
code-server-3.2.0-linux-x86_64/dist/register.js.map
code-server-3.2.0-linux-x86_64/dist/pages/
code-server-3.2.0-linux-x86_64/dist/pages/app.js
code-server-3.2.0-linux-x86_64/dist/pages/app.css
code-server-3.2.0-linux-x86_64/dist/pages/app.css.map
code-server-3.2.0-linux-x86_64/dist/pages/app.js.map
code-server-3.2.0-linux-x86_64/dist/register.js
code-server-3.2.0-linux-x86_64/dist/serviceWorker.js.map
code-server-3.2.0-linux-x86_64/dist/serviceWorker.js
code-server-3.2.0-linux-x86_64/package.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;압축을 풀고 해당 디렉터리로 들어 가 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;라는 바이너리가 있다.&lt;/p&gt;

&lt;p&gt;만약 바이너리에 실행 권한이 없는 상태라면 아래의 명령어를 통해 실행 권한을 주어야 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd code-server-3.2.0-linux-x86_64
# chmod +x code-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt; 바이너리를 실행시키면 웹 브라우저를 통해 원격 서버에 접속할 수 있을 것이다.&lt;/p&gt;

&lt;p&gt;그런데 만약 원격 서버가 오픈되어 있는 경우라면, 불특정 다수가 해당 서버에 접속해서 아무 파일이나 막 생성할 수 있다.&lt;/p&gt;

&lt;p&gt;때문에 접속하기 위한 &lt;code class=&quot;highlighter-rouge&quot;&gt;패스워드&lt;/code&gt;를 설정 해 주어야 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# echo &quot;export PASSWORD='PASSWORD_YOU_WANT'&quot; &amp;gt;&amp;gt; ~/.bashrc
# source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cat ~/.bashrc&lt;/code&gt;를 통해 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; 파일을 확인 해 보면 가장 아래쪽에 내가 입력 한 패스워드가 들어가 있을 것이다.&lt;/p&gt;

&lt;p&gt;마지막으로 접속을 위해 사용 할 포트를 열어 주어야 한다.&lt;/p&gt;

&lt;p&gt;만약 웹 개발을 한다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;80&lt;/code&gt; 포트를 기본적으로 사용하기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;code-server&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;8080&lt;/code&gt; 포트를 사용하기로 했다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ufw allow 8080/tcp
Rules updated
Rules updated (v6)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;위와 같이 포트를 열어 준 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;./code-server --bind-addr [원격서버 IP 주소]:[사용할 포트]&lt;/code&gt;의 형태로 바이너리를 실행한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ./code-server --bind-addr 192.168.171.135:8080
info  code-server 3.2.0 fd36a99a4c78669970ebc4eb05768293b657716f
info  HTTP server listening on http://192.168.171.135:8080
info    - Using custom password for authentication
info    - Not serving HTTPS
info  Automatic updates are enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;정상적으로 실행이 됬다면, 웹 브라우저를 이용하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;http://IP_Address:Port&lt;/code&gt;로 접속한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;패스워드를 설정 했다면 위와 같은 화면이 나올 것이고, 하지 않았다면 아래의 화면이 나타난다.&lt;/p&gt;

&lt;p&gt;패스워드를 설정 한 경우에는 패스워드를 입력하면 아래의 페이지로 이동한다.&lt;/p&gt;

&lt;p&gt;이제 이를 활용 해 파일이나 디렉터리를 생성하고 개발을 하면 된다!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;내가 놀랐던 점은 디렉터리 이동도 매우 쉬웠다는 거다.&lt;/p&gt;

&lt;p&gt;위의 메뉴에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Add workspace folder...&lt;/code&gt;를 선택하면 아래처럼 &lt;code class=&quot;highlighter-rouge&quot;&gt;/root/&lt;/code&gt;와 함께 주소창(?)이 생성된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 주소창에 내가 원하는 경로를 입력하면 해당 경로 하위에 있는 파일이나 디렉터리가 출력되어, 굳이 경로를 외우지 않아도 쉽게 디렉터리를 이동할 수 있다!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/code-server/code-server_09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 13 May 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Apache Tomcat] 서버 버전 정보 노출 숨기기</title>
        <link>/pentesting/web/2020/04/05/tomcat_hide_version_on_error_page_.html</link>
        <guid isPermaLink="true">/pentesting/web/2020/04/05/tomcat_hide_version_on_error_page_.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat&lt;/code&gt;에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Error&lt;/code&gt;를 유발했더니 서버 버전 정보가 노출되었다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Error&lt;/code&gt; 페이지에서 출력되는 버전 정보를 숨기는 방법은 아래와 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;일단 &lt;code class=&quot;highlighter-rouge&quot;&gt;Error&lt;/code&gt; 페이지에서 노출되는 서버 버전 정보를 확인하기 위해 &lt;code class=&quot;highlighter-rouge&quot;&gt;404 Error&lt;/code&gt;를 발생시켰더니 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat/7.0.68 (Ubuntu)&lt;/code&gt;라는 정보가 출력되었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat&lt;/code&gt;에서 버전 정보를 숨기기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/tomcat7/server.xml&lt;/code&gt; 파일을 수정해야 한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;server.xml&lt;/code&gt; 파일을 열고 가장 아래로 내려보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;Host&amp;gt;&lt;/code&gt; 태그를 발견할 수 있다.&lt;/p&gt;

&lt;p&gt;해당 태그 안에 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;Valve&amp;gt;&lt;/code&gt;라는 태그가 있는데, &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;Valve&amp;gt;&lt;/code&gt; 태그를 통해 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;에 들어오는 각 요청에 대한 전처리를 수행할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;따라서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Error&lt;/code&gt; 페이지에 대한 전처리 설정을 하기 위해 아래와 같이 새로운 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;Valve&amp;gt;&lt;/code&gt;를 추가 해 준다.&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;Valve&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;org.apache.catalina.valves.ErrorReportValve&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;showReport=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;false&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;showServerInfo=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;을 재실행 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;재실행을 하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/tomcat7/bin&lt;/code&gt; 디렉터리의 &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown.sh&lt;/code&gt;와 &lt;code class=&quot;highlighter-rouge&quot;&gt;startup.sh&lt;/code&gt;를 차례로 실행 해 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그런데 내 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown.sh&lt;/code&gt;를 실행하니 아래와 같은 오류가 났다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;java.io.FileNotFoundException: /usr/share/tomcat7/conf/server.xml (No such file or directory)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 오류를 해결하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/tomcat7&lt;/code&gt; 디렉터리로 가 아래의 명령어를 입력 해 주면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ln -s /var/lib/tomcat7/* ./
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후, &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown.sh&lt;/code&gt;와 &lt;code class=&quot;highlighter-rouge&quot;&gt;startup.sh&lt;/code&gt;를 차례로 실행 해 주면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat started&lt;/code&gt;라는 문구가 뜨며 재실행이 된 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다시 웹으로 돌아가 아까와 똑같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;404 Error&lt;/code&gt;를 발생 해 보면 서버 버전 정보 뿐만 아니라 오류의 세부 내용도 함께 사라진 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/tomcat_hiding_version/tomcat_info_09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;blockquote&gt;
  &lt;p&gt;참고&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;인터넷에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;의 서버 버전 정보 노출 방지 방법을 찾으면 &lt;code class=&quot;highlighter-rouge&quot;&gt;catalina.jar&lt;/code&gt;를 찾아 특정 폴더 내에 있는 버전 정보를 지우도록 하는 방법이 나온다.&lt;/p&gt;

&lt;p&gt;나도 처음엔 그렇게 해보려 했는데, 저렇게 할 경우 &lt;code class=&quot;highlighter-rouge&quot;&gt;catalina.jar&lt;/code&gt;를 &lt;code class=&quot;highlighter-rouge&quot;&gt;repackaging&lt;/code&gt;되면서 의도치 않은 오류가 발생할 수 있다고 한다.&lt;/p&gt;

&lt;p&gt;그래서 위와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;Valve&amp;gt;&lt;/code&gt;를 사용 해 처리하는 방법을 권장한다고 한다.&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Apr 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Apache2] 서버 버전 정보 노출 숨기기</title>
        <link>/pentesting/web/2020/04/05/apache_hide_server_version.html</link>
        <guid isPermaLink="true">/pentesting/web/2020/04/05/apache_hide_server_version.html</guid>
        <description>&lt;p&gt;웹 취약점 진단 항목 중에 서버 버전 및 정보의 노출을 확인하는 것이 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;OWASP&lt;/code&gt;에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Fingerprint Web Server&lt;/code&gt;라고 명시하며, 노출 된 웹 서버의 버전이나 정보를 통해 공격자가 공격을 위한 힌트를 얻을 수 있기 때문에 노출을 자제하도록 권고한다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/OWASP/wstg/blob/master/document/4-Web_Application_Security_Testing/01-Information_Gathering/02-Fingerprint_Web_Server.md&quot;&gt;OWASP Fingerprint Web Server&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Risk는 크지 않지만 자주 나오는 취약점이기도 하다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Apache2&lt;/code&gt;를 사용할 때, 서버 버전이 노출되는지 확인하는 방법은 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP Response&lt;/code&gt;를 확인하는 것이다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Burp Suite&lt;/code&gt;로 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP Response&lt;/code&gt;를 잡아 확인 해 보면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Server: Apache/2.4.18 (Ubuntu)&lt;/code&gt;가 출력된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 정보를 통해 공격자가 해당 버전의 &lt;code class=&quot;highlighter-rouge&quot;&gt;CVE&lt;/code&gt; 등을 찾아 공격을 시도 해 볼 수 있으므로 숨기는게 좋다고 한다.&lt;/p&gt;

&lt;p&gt;내가 테스트 한 버전은 아래와 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Ubuntu 16.04&lt;/li&gt;
  &lt;li&gt;Apache 2.4.18&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;일반적으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;httpd.conf&lt;/code&gt;를 고치면 된다고 하는데, 찾아보니 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;httpd.conf&lt;/code&gt;가 사라졌다고 한다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/215157/why-dont-i-have-a-httpd-conf-file-in-etc-apache2&quot;&gt;Why don’t I have a httpd.conf file in /etc/apache2?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;에서는 서버 버전 정보를 숨기기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/apache2/conf-available/security.conf&lt;/code&gt; 파일을 수정해야 한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/apache2/conf-enabled/&lt;/code&gt;에도 &lt;code class=&quot;highlighter-rouge&quot;&gt;security.conf&lt;/code&gt; 파일이 있으나, 이는 &lt;code class=&quot;highlighter-rouge&quot;&gt;conf-available&lt;/code&gt; 디렉터리의 파일과 연결 된 &lt;code class=&quot;highlighter-rouge&quot;&gt;Symbolic Link&lt;/code&gt; 파일이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/apache2/conf-available/&lt;/code&gt; 디렉터리에 가 보면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;security.conf&lt;/code&gt; 파일이 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;해당 파일을 열어 &lt;code class=&quot;highlighter-rouge&quot;&gt;ServerTokens&lt;/code&gt;로 검색을 해 보면 아래와 같은 설정을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;원래 초기값은 아래와 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ServerTokens OS
ServerSignature On
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;해당 값을 아래와 같이 변경 해 준다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ServerTokens Prod
ServerSignature Off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ServerTokens&lt;/code&gt;의 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;Full, OS, Minimal, Minor, Major, Prod&lt;/code&gt; 중 하나로 설정할 수 있는데, &lt;code class=&quot;highlighter-rouge&quot;&gt;Full&lt;/code&gt;이 가장 많은 정보를 출력하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Prod&lt;/code&gt;가 가장 적은 정보를 출력 해 보안 상 권장 설정은 &lt;code class=&quot;highlighter-rouge&quot;&gt;Prod&lt;/code&gt;다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ServerSignature&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;On, Off, EMail&lt;/code&gt; 중 하나로 설정할 수 있으며, 각각 출력하는 정보는 아래와 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;On : 서버 버전, 가상 호스트명&lt;/li&gt;
  &lt;li&gt;Off : 정보를 추가하지 않음&lt;/li&gt;
  &lt;li&gt;EMail : 서버버전, 가상호스트명과 함께 ServerAdmin 정보도 함께 보여 줌&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;설정을 위와 같이 변경했다면, 아래의 명령어를 통해 &lt;code class=&quot;highlighter-rouge&quot;&gt;apache&lt;/code&gt;를 재실행 해 준다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;service apache2 restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Apache&lt;/code&gt;를 재실행 한 후 다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP Response&lt;/code&gt;를 확인 해 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Server: Apache&lt;/code&gt;라는 정보만 나올 뿐 버전 정보나 OS 정보는 출력되지 않는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/apache_hiding_version/apache_info_08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Apr 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[AWS S3] Referer를 통해 S3 파일 접근 제어하기</title>
        <link>/pentesting/cloud/2020/04/05/aws_s3_access_control_with_referer.html</link>
        <guid isPermaLink="true">/pentesting/cloud/2020/04/05/aws_s3_access_control_with_referer.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AWS&lt;/code&gt;에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;S3(Simple Storage Service)&lt;/code&gt;라는 저장소가 존재한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;에서는 데이터를 저장하기 위한 기본 컨테이너를 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;라고 부르는데, 이 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Referer&lt;/code&gt;를 통한 접근제어 정책을 설정 해 특정 도메인에서만 접근할 수 있도록 하는 방법을 정리한다.&lt;br /&gt;
&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;을 생성할 때 아무 설정도 건드리지 않는다면 기본적으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket 내 파일&lt;/code&gt;의 접근 권한은 &lt;code class=&quot;highlighter-rouge&quot;&gt;private&lt;/code&gt;이 된다.&lt;/p&gt;

&lt;p&gt;하지만 웹에서 사용하는 이미지 등을 &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt; 등에 올리며, 설정을 &lt;code class=&quot;highlighter-rouge&quot;&gt;public&lt;/code&gt;으로 바꾸는 경우가 있는 것 같다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;의 접근 권한 설정을 &lt;code class=&quot;highlighter-rouge&quot;&gt;public&lt;/code&gt;으로 할 경우 설정에 따라 임의의 사용자가 파일 업로드 및 다운로드 할 수 있으므로 접근제어 정책을 설정 해 주는 것이 좋다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt; 페이지에 접속하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;을 선택한 후, &lt;code class=&quot;highlighter-rouge&quot;&gt;권한 &amp;gt; 버킷 정책&lt;/code&gt;을 선택하면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;버킷 정책 편집기&lt;/code&gt;를 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;스크롤을 아래로 내려 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;정책 생성기&lt;/code&gt;가 있는데, 이를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;아래는 &lt;code class=&quot;highlighter-rouge&quot;&gt;정책 생성기&lt;/code&gt;의 기본 페이지 모습이다.&lt;/p&gt;

&lt;p&gt;정책을 설정하는 것은 아니고, &lt;code class=&quot;highlighter-rouge&quot;&gt;버킷 정책 편집기&lt;/code&gt;에 들어갈 정책을 &lt;code class=&quot;highlighter-rouge&quot;&gt;format&lt;/code&gt;에 맞게 만들어 주는 페이지이다.&lt;/p&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;정책 설정 format&lt;/code&gt;을 모두 알고있다면 굳이 &lt;code class=&quot;highlighter-rouge&quot;&gt;정책 생성기&lt;/code&gt;를 사용 할 필요는 없는 것 같다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;정책을 설정하기 위해 아래와 같이 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Amazon Resource Name (ARN)&lt;/code&gt;은 앞의 &lt;code class=&quot;highlighter-rouge&quot;&gt;버킷 정책 편집기&lt;/code&gt; 페이지에서 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;모든 정책을 다 적으면 아래와 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* Effect : Allow
* Principal : *
* AWS Service : Amazon S3
* Actions : GetObject
* Amazon Resource Name (ARN) : [버킷 정책 편집기] 페이지에서 확인한 값/*

&amp;gt; Add Conditions (Optional)
* Condition : StringLike
* Key : aws:Referer
* Value : http://DOMAINNAME/*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;각 설정에 대한 설명은 다음과 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* Effect : 특정 도메인에 대해 '허용'하는 정책이므로 Allow
* Principal : 정책을 적용할 대상, 웹을 통해 접속하는 모든 사람이 대상이므로 *
* AWS Service : 적용 할 서비스 명
* Actions : 정책이 적용되는 action. S3에서 이미지 파일을 다운로드 하므로 s3:GetObject
* Amazon Resource Name (ARN) : [버킷 정책 편집기] 페이지에서 확인한 값/*

&amp;gt; Add Conditions (Optional)
* Condition : 정책 조건 부여. 특정 도메인을 통할 경우 정책이 적용되어야 하므로 StringLike
* Key : 조건을 어디에 적용할 지. 이 경우 Referer를 통해 확인하므로 aws:Referer
* Value : 허용 할 도메인 값을 입력, http://DOMAINNAME/*
  =&amp;gt; if (Referer == &quot;http://DOMAINNAME/*&quot;) 와 같음
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/HTTP_%EB%A6%AC%ED%8D%BC%EB%9F%AC&quot;&gt;HTTP Referer란?&lt;/a&gt;&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;웹 브라우저로 World Wide Web을 서핑할 때 하이퍼링크를 통해 각각의 사이트로 방문 시 남는 흔적&lt;/li&gt;
    &lt;li&gt;예를 들어 A 페이지에서 B 사이트로 이동하는 하이퍼링크가 존재 할 경우, 사용자가 이 하이퍼링크를 클릭하면 웹 브라우저에서 B 사이트로 참조 주소(Referer)를 전송함&lt;/li&gt;
    &lt;li&gt;B 사이트 관리자는 이 Referer를 통해 방문객이 A 사이트를 통해 자신의 사이트에 방문한 것을 알 수 있음&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;모든 설정을 한 후, &lt;code class=&quot;highlighter-rouge&quot;&gt;Add Condition&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;Add Statement&lt;/code&gt;를 차례로 눌러 주면 아래와 같이 정책이 생긴 것을 알 수 있다.&lt;/p&gt;

&lt;p&gt;이 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Generate Policy&lt;/code&gt;를 눌러 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 결과 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;JSON&lt;/code&gt; 형태의 정책을 확인할 수 있다.&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Policy1586072492270&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Stmt1586072470528&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:s3:::OOOOO-test-bucket1/*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;StringLike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aws:Referer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://OOOOO.kr/*&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;해당 값을 복사한 후 다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;버킷 정책 편집기&lt;/code&gt;로 돌아 와 붙여넣기 한 후, &lt;code class=&quot;highlighter-rouge&quot;&gt;저장&lt;/code&gt; 버튼을 선택하면 정책 설정이 완료된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;접근 권한을 다시 설정하기 위하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;권한 &amp;gt; 퍼블릭 액세스 차단&lt;/code&gt; 메뉴로 가 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;새 퍼블릭 버킷 또는 액세스 지점 정책을 통해 부여된 버킷 및 객체에 대한 퍼블릭 액세스 차단&lt;/code&gt;을 활성화 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;아래와 같은 확인 창이 뜨면 &lt;code class=&quot;highlighter-rouge&quot;&gt;확인&lt;/code&gt;을 입력하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;확인&lt;/code&gt; 버튼을 눌러주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;위의 과정이 끝나면 &lt;code class=&quot;highlighter-rouge&quot;&gt;퍼블랙 액세스 차단&lt;/code&gt; 설정이 아래와 같이 설정 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이제 정책이 정상적으로 적용되었는지 확인 해 보면 된다.&lt;/p&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;에 &lt;code class=&quot;highlighter-rouge&quot;&gt;flower.png&lt;/code&gt;를 넣어 뒀는데, 해당 이미지에 직접 접근하면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;AccessDenied&lt;/code&gt;가 뜨는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이에, 내가 설정한 도메인에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;img&amp;gt;&lt;/code&gt; 태그를 통해 해당 이미지를 불러오면 정상적으로 이미지가 출력된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이번엔 타인의 &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS CLI&lt;/code&gt;를 이용하여 해당 버킷에 접근할 수 있는지 확인 해 보았다.&lt;/p&gt;

&lt;p&gt;역시나 &lt;code class=&quot;highlighter-rouge&quot;&gt;AccessDenied&lt;/code&gt;가 나오므로, 설정이 정상적으로 적용된 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/s3_referer/bucket_referer_setting_15.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Apr 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Secure Coding] SonarQube 설치 및 사용법</title>
        <link>/development/secure%20coding/2020/03/29/sonarqube-install_and_testing.html</link>
        <guid isPermaLink="true">/development/secure%20coding/2020/03/29/sonarqube-install_and_testing.html</guid>
        <description>&lt;p&gt;많은 기업들에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Secure Coding&lt;/code&gt;을 위해 정적 코드 분석 툴을 사용한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;SonarQube&lt;/code&gt;는 그 중 하나인데, 커뮤니티 버전이 있어 무료로 사용할 수 있기에 설치 해 테스트 해 보았다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;SonarQube&lt;/code&gt;는 &lt;a href=&quot;https://www.sonarqube.org/&quot;&gt;ttps://www.sonarqube.org/&lt;/a&gt;에서 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;위의 사이트에 접속 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt;를 누르면 아래의 페이지로 이동한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download Community Edition&lt;/code&gt;을 선택하면 무료로 다운받을 수 있다.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;만약 JDK가 설치되어 있지 않다면, JDK를 설치 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;JDK는 아래의 사이트에서 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.oracle.com/java/technologies/javase-downloads.html&quot;&gt;https://www.oracle.com/java/technologies/javase-downloads.html&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;다운로드 완료 후 압축을 풀면 아래와 같은 파일 목록을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;이 중 &lt;code class=&quot;highlighter-rouge&quot;&gt;conf&lt;/code&gt; 폴더를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;conf&lt;/code&gt; 폴더에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;SonarQube&lt;/code&gt;를 사용하기 위한 기본 설정파일들이 있다.&lt;/p&gt;

&lt;p&gt;두 파일 모두 그냥 놔둬도 돌아간다고 하는데, 나는 그대로 사용하면 오류가 나서 &lt;code class=&quot;highlighter-rouge&quot;&gt;wrapper.conf&lt;/code&gt;를 살짝 수정 해 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;해당 파일을 선택하면 맨 위의 코드가 아래와 같다.&lt;/p&gt;

&lt;h4 id=&quot;before&quot;&gt;Before&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# Path to JVM executable. By default it must be available in PATH.
# Can be an absolute path, for example:
# wrapper.java.command=/path/to/my/jdk/bin/java
wrapper.java.command=java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;해당 코드에서 3번째 줄의 주석을 풀고 현재 내 PC에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;java&lt;/code&gt;가 설치 된 경로를 입력하고 4번째 줄을 주석처리 한다.&lt;/p&gt;

&lt;h4 id=&quot;after&quot;&gt;After&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# Path to JVM executable. By default it must be available in PATH.
# Can be an absolute path, for example:
wrapper.java.command=C:\Program Files\Java\jdk-14\bin/java
# wrapper.java.command=java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;그 결과는 아래와 같다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;bin&lt;/code&gt; 폴더로 가 &lt;code class=&quot;highlighter-rouge&quot;&gt;StartSonar&lt;/code&gt;를 더블클릭 해 실행시켜 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;StartSonar&lt;/code&gt;를 누르면 &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd&lt;/code&gt; 창이 뜰 것이다.&lt;/p&gt;

&lt;p&gt;그러면 웹 브라우저를 통해 &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost:9000&lt;/code&gt;으로 이동하면 아래와 같은 페이지를 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;조금 기다리면 아래와 같은 메인 페이지가 나온다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Log in&lt;/code&gt; 버튼을 눌러 로그인 할 수 있는데, 기본 아이디와 패스워드는 &lt;code class=&quot;highlighter-rouge&quot;&gt;admin/admin&lt;/code&gt;이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;로그인을 하면 아래와 같은 대쉬보드를 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;소스코드 진단을 실제로 해 보기 위해 &lt;code class=&quot;highlighter-rouge&quot;&gt;Create new project&lt;/code&gt;를 선택했다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Project key&lt;/code&gt;에 내가 입력하고 싶은 프로젝트 이름을 선택하면, &lt;code class=&quot;highlighter-rouge&quot;&gt;Display name&lt;/code&gt;은 자동으로 입력됬다. (변경도 가능하다)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후, &lt;code class=&quot;highlighter-rouge&quot;&gt;Set Up&lt;/code&gt;을 누르면 아래와 같은 페이지로 이동하는데, 여기에서 만약에 token 값이 없다면 새로 생성하고, 기존에 생성 된 토큰이 있다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Use existing token&lt;/code&gt;을 선택 해 기존의 토큰 값을 입력 해 주면 된다.&lt;/p&gt;

&lt;p&gt;나는 처음 실행하는거라 토큰 값이 없기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Generate a token&lt;/code&gt;을 선택하고 값을 입력한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Generate&lt;/code&gt;를 눌러 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Token 명 : Token 값&lt;/code&gt; 형태로 값이 출력된다.&lt;/p&gt;

&lt;p&gt;이 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Continue&lt;/code&gt;를 눌러 다음 단계를 진행한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음 단계에서는 정적 코드 분석을 진행 할 코드의 메인 언어와 내 OS를 선택해야 한다.&lt;/p&gt;

&lt;p&gt;내가 테스트 하기 위해 사용 한 코드는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Load of SQL Injection&lt;/code&gt;의 가장 첫 문제인 &lt;code class=&quot;highlighter-rouge&quot;&gt;gremlin&lt;/code&gt;이기 때문에 언어는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Other (JS, TS, Go, Python, PHP, ...)&lt;/code&gt;을, 환경은 &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;를 선택했다.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;./config.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;login_chk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dbconnect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;preg_match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'/prob|_|\.|\(\)/i'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;No Hack ~_~&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// do not try to attack another table, database!&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;preg_match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'/prob|_|\.|\(\)/i'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;No Hack ~_~&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;select id from prob_gremlin where id='&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' and pw='&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;hr&amp;gt;query : &amp;lt;strong&amp;gt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$query&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;lt;/strong&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;br&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mysqli_fetch_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mysqli_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;solve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gremlin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;highlight_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;__FILE__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;그리고 아래를 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download and unzip the Scanner for Windows&lt;/code&gt;라고 뜨는데, 여기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt; 버튼을 눌러준다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt; 아래의 &lt;code class=&quot;highlighter-rouge&quot;&gt;Execute the Scanner from your computer&lt;/code&gt;에 있는 명령어는 일단 잘 복사 해 둔다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt;를 선택하면 아래와 같은 페이지로 이동한다.&lt;/p&gt;

&lt;p&gt;정적 코드 진단을 하기 위한 Scanner를 다운로드 하는 링크이다.&lt;/p&gt;

&lt;p&gt;여기에서 내 환경에 맞는 다운로드 링크를 선택하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Scanner&lt;/code&gt;를 다운받아 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_15.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;파일이 다운로드 되면 압축을 풀어주고, 해당 링크를 환경 변수에 등록 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;시작 &amp;gt; 시스템 환경 변수 편집 &amp;gt; 고급 &amp;gt; 환경 변수&lt;/code&gt;를 선택 한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_16.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후 압축 해제 한 &lt;code class=&quot;highlighter-rouge&quot;&gt;sonar-scanner&lt;/code&gt;의 &lt;code class=&quot;highlighter-rouge&quot;&gt;bin&lt;/code&gt; 폴더를 환경 변수에 등록 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_17.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;환경 변수에 등록을 완료 했다면 이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd&lt;/code&gt; 창을 열어 진단 할 소스코드 있는 경로로 이동하고, 앞서 복사 해 뒀던 &lt;code class=&quot;highlighter-rouge&quot;&gt;Execute the Scanner from your computer&lt;/code&gt;의 명령어를 &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd&lt;/code&gt;에 입력 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_18.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;명령어 실행 후 코드의 양에 따라 조금 시간이 지난 후 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;EXECUTION SUCCESS&lt;/code&gt;가 뜨면 진단이 끝난 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_19.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost:9000&lt;/code&gt;으로 가 보면 아래와 같이 진단 결과가 나와 있는 것을 알 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_20.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그런데 분명히 나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;SQL Injection&lt;/code&gt;이 가능 한 &lt;code class=&quot;highlighter-rouge&quot;&gt;php&lt;/code&gt; 코드를 업로드 했는데, &lt;code class=&quot;highlighter-rouge&quot;&gt;Vulnerabilities&lt;/code&gt;가 0개로 A등급이 나왔고, 약간 마이너 한 버그로 &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;braces&lt;/code&gt; 즉, &lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;를 사용하지 않았다는 리포트를 얻을 수 있었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/secure/sonarqube/sonar_install_21.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Community&lt;/code&gt; 버전이라 그런건지는 모르겠지만, 간단한 점검 용으로는 사용 하더라도 진짜 서비스 해야 하는 곳에서는 사용하지 않을 것 같다…ㅎ&lt;/p&gt;
</description>
        <pubDate>Sun, 29 Mar 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Vmware] EFI Network / Timeout Error</title>
        <link>/error/windows/2020/03/20/vmware-time_out.html</link>
        <guid isPermaLink="true">/error/windows/2020/03/20/vmware-time_out.html</guid>
        <description>&lt;p&gt;얼마 전 컴퓨터를 포맷했는데, 포맷 한 뒤로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Vmware&lt;/code&gt;에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;를 설치하려고 하면 자꾸 &lt;code class=&quot;highlighter-rouge&quot;&gt;Time out&lt;/code&gt; 오류가 난다.&lt;/p&gt;

&lt;p&gt;해당 오류 해결 방법은 아래와 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;일단 오류 상황은 아래와 같다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;어떨 때는 첫 번째 사진과 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;EFI Network&lt;/code&gt;라고 뜨며 &lt;code class=&quot;highlighter-rouge&quot;&gt;Time out&lt;/code&gt;이 나오고, 또 어떨 때는 두 번째 사진과 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Press any key to boot from CD or DVD&lt;/code&gt;라는 오류가 나온다.&lt;/p&gt;

&lt;p&gt;일반적으로 두 번째 오류가 나오면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Setting&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;CD/DVD(SATA)&lt;/code&gt; 탭에 &lt;code class=&quot;highlighter-rouge&quot;&gt;ISO&lt;/code&gt; 파일은 안 넣어 준 경우일텐데, 나는 아래와 같이 정확하게 &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows 10&lt;/code&gt;용 &lt;code class=&quot;highlighter-rouge&quot;&gt;ISO&lt;/code&gt; 파일의 경로를 넣어 준 상태였다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_03.png&quot; alt=&quot;&quot; width=&quot;75%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 오류의 해결 방법은 다음과 같다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;VM 종료 후 해당 VM 마우스 오른쪽 버튼 &amp;gt; Settings &amp;gt; 상단 Options 탭으로 이동 &amp;gt; 아래의 Advanced 메뉴 &amp;gt; Firmware type&lt;/code&gt;을 확인 해 보면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;UEFI&lt;/code&gt;라고 설정되어 있을 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_04.png&quot; alt=&quot;&quot; width=&quot;75%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 이 설정을 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;BIOS&lt;/code&gt;로 변경하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;OK&lt;/code&gt;를 클릭 한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_05.png&quot; alt=&quot;&quot; width=&quot;75%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그리고 다시 부팅을 해 보면 정상적으로 되는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/error/vm/timeout/vm_timeout_06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 20 Mar 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[AWS S3] AWS CLI로 S3 파일 업로드 및 다운로드 하기</title>
        <link>/pentesting/cloud/2020/03/07/aws_cli.html</link>
        <guid isPermaLink="true">/pentesting/cloud/2020/03/07/aws_cli.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AWS&lt;/code&gt;에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS CLI(Command Line Interface)&lt;/code&gt;가 있어 로컬에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;S3 bucket&lt;/code&gt;를 동기화하여 사용할 수 있게 해 준다.&lt;/p&gt;

&lt;p&gt;또한 리눅스 명령어와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;ls, rm, cp&lt;/code&gt; 등의 명령어를 사용할 수 있다.&lt;/p&gt;

&lt;p&gt;기본적인 사용방법은 다음과 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;1-aws-cli-설치&quot;&gt;1. AWS CLI 설치&lt;/h3&gt;

&lt;p&gt;나는 주로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;를 사용 해 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;를 기준으로 설명한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;에서 사용하고 싶다면 설치 방법은 아래와 같다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/cli/latest/userguide/install-windows.html&quot;&gt;Windows AWS CLI 설치&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;에서는 아래의 명령어로 설치할 수 있다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# apt install -y awscli
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;만약 아래와 같은 오류 발생 시 &lt;code class=&quot;highlighter-rouge&quot;&gt;apt update&lt;/code&gt; 후 설치하면 정상적으로 진행된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;E: Package 'awscli' has no installation candidate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;설치가 완료되면 기본 설정을 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;설정하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;aws configure&lt;/code&gt;를 사용한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws configure
AWS Access Key ID [None]:
AWS Secret Access Key [None]: 
Default region name [None]: 
Default output format [None]:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;첫 두 항목(&lt;code class=&quot;highlighter-rouge&quot;&gt;AWS Access Key ID&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS Secret Access Key&lt;/code&gt;)는 AWS 홈페이지에서 생성할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;https://aws.amazon.com/ko/&lt;/code&gt;에서 로그인 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS 소개 &amp;gt; 내 보안 자격 증명 &amp;gt; 액세스 키(액세스 키 ID 및 비밀 액세스 키) &amp;gt; 새 액세스 키 만들기&lt;/code&gt;를 선택 해 새로 키를 생성한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/awscli/awscli_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/cloud/awscli/awscli_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 위와 같이 키 값을 확인할 수 있는데, 이를 복사 해 각각 &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS Access Key ID&lt;/code&gt;와 &lt;code class=&quot;highlighter-rouge&quot;&gt;AWS Secret Access Key&lt;/code&gt;에 넣어주면 된다.&lt;/p&gt;

&lt;p&gt;또한 세번째 값인 &lt;code class=&quot;highlighter-rouge&quot;&gt;Default region name&lt;/code&gt;에는 내가 생성 한 버킷의 &lt;code class=&quot;highlighter-rouge&quot;&gt;region&lt;/code&gt;을 넣어주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;서울&lt;/code&gt;의 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;ap-northeast-2&lt;/code&gt;를 넣어주면 된다.&lt;/p&gt;

&lt;p&gt;마지막 값인 &lt;code class=&quot;highlighter-rouge&quot;&gt;Default output format&lt;/code&gt;은 따로 입력하지 않아도 된다.&lt;/p&gt;

&lt;p&gt;정상적으로 설정이 완료 됬는지는 아래의 명령어를 통해 확인할 수 있다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;현재 계정에 생성 된 bucket 목록 확인
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;현재 계정의 bucket 내 파일 목록 확인
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 ls s3://[bucketname]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;정상적으로 설정이 완료 됬으며, &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;이 존재 할 경우 출력되는 예시는 다음과 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 ls
2020-02-06 02:29:29 [bucketname]                                                                                                         
# aws s3 ls s3://[bucketname]
2020-02-06 02:32:37      26075 test.png                    
2020-02-06 03:01:22         12 test.txt 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;2-기본-사용법&quot;&gt;2. 기본 사용법&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AWS CLI&lt;/code&gt;를 통한 &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt; 사용 방법은 아래와 같다.&lt;/p&gt;

&lt;h4 id=&quot;1-버킷-생성하기&quot;&gt;1) 버킷 생성하기&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 mb s3://[bucketname]
make_bucket: [bucketname]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이때, &lt;code class=&quot;highlighter-rouge&quot;&gt;mb&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Make Bucket&lt;/code&gt;라고 한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt;의 이름은 AWS 전체에서 고유한 이름이어야 한다.&lt;/p&gt;

&lt;h4 id=&quot;2-목록-확인&quot;&gt;2) 목록 확인&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt; 목록을 확인하려면 아래와 같다.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 ls
2020-02-06 02:29:29 [bucketname]  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;bucket&lt;/code&gt; 내의 파일을 확인하고 싶다면 아래와 같이 사용할 수 있다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 ls s3://[bucketname]
2020-02-06 02:32:37      26075 test.png                    
2020-02-06 03:01:22         12 test.txt 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;3-파일-업로드&quot;&gt;3) 파일 업로드&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 cp [localfilepath] s3://[bucketname]/[filename]
upload: [localfilepath] to s3://[bucketname]/[filename]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 때, 업로드 하는 파일에 &lt;code class=&quot;highlighter-rouge&quot;&gt;public 읽기&lt;/code&gt; 권한을 부여하고 싶다면 뒤에 &lt;code class=&quot;highlighter-rouge&quot;&gt;--acl public-read&lt;/code&gt;를 추가 해 주면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 cp [localfilepath] s3://[bucketname]/[filename] --acl public-read
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;4-파일-다운로드&quot;&gt;4) 파일 다운로드&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 cp s3://[bucketname]/[filename] [localfilepath]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;파일을 업로드 할 때와 반대로 사용하면 된다.&lt;/p&gt;

&lt;h4 id=&quot;5-파일-삭제&quot;&gt;5) 파일 삭제&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# aws s3 rm s3://[bucketname]/[filename]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sat, 07 Mar 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Spring 게시판 만들기] Spring 개발 환경 구축하기</title>
        <link>/development/web/2020/02/18/spring-setting.html</link>
        <guid isPermaLink="true">/development/web/2020/02/18/spring-setting.html</guid>
        <description>&lt;p&gt;많은 곳에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt;을 가지고 웹 개발을 한다고 한다.&lt;/p&gt;

&lt;p&gt;나는 웹 개발은 &lt;code class=&quot;highlighter-rouge&quot;&gt;PHP&lt;/code&gt;나 &lt;code class=&quot;highlighter-rouge&quot;&gt;JSP&lt;/code&gt;, 그것도 거의 학교 과제 수준밖에 안해봤기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt;은 전혀 모른다.&lt;/p&gt;

&lt;p&gt;근데 구조 등을 알면 일할 때 편하지 않을까 싶어 게시판을 만들어 보려고 한다.&lt;/p&gt;

&lt;p&gt;오늘은 게시판을 만들기 위하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt;을 구축하는 방법을 정리한다.&lt;/p&gt;

&lt;!--more--&gt;
&lt;h2 id=&quot;1-eclipse-설치&quot;&gt;1. Eclipse 설치&lt;/h2&gt;

&lt;p&gt;먼저 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt;으로 웹 페이지를 개발하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;가 필요하다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;는 아래 사이트에서 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.eclipse.org/downloads/packages/&quot;&gt;https://www.eclipse.org/downloads/packages/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;사이트에 접속한 후, 아래와 같이 자신의 운영체제에 맞는 설치파일을 다운 받는다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_01.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_02.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다운받은 설치파일을 실행하면 아래와 같은 창이 뜰텐데, 이 중 나는 두 번째에 있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse IDE for Enterprise Java Developers&lt;/code&gt;를 선택했다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_03.PNG&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;설치 할 &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;를 선택하면 설치 창이 뜬다. 경로를 확인한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;INSTALL&lt;/code&gt; 버튼을 클릭한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_04.PNG&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;모든 설치가 끝나면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;LAUNCH&lt;/code&gt; 버튼이 나타날 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_05.PNG&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;해당 버튼을 누르면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;가 실행 될 것이다.&lt;/p&gt;

&lt;p&gt;만약 정상적으로 실행된다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;3. Spring Tools 설치&lt;/code&gt;로 넘어가면 되지만, 오류가 난다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;2. JAVA 설치&lt;/code&gt;를 해야 한다.&lt;/p&gt;

&lt;h2 id=&quot;2-java-설치&quot;&gt;2. JAVA 설치&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;JAVA&lt;/code&gt;는 아래의 사이트에서 설치한다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://java.com/ko/download/&quot;&gt;https://java.com/ko/download/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;위의 사이트에 접속 해 아래와 같이 빨간색 버튼을 클릭하여 설치한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_06.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_07.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-spring-tools-설치&quot;&gt;3. Spring Tools 설치&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;를 실행하면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;workspace&lt;/code&gt;의 경로를 정할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_08.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;나는 그냥 기본 경로로 두었다.&lt;/p&gt;

&lt;p&gt;실행하면 초기 화면은 아래와 같다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_09.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt;을 사용하기 위하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring Tools&lt;/code&gt;를 설치해야 한다.&lt;/p&gt;

&lt;p&gt;상단의 메뉴 중 &lt;code class=&quot;highlighter-rouge&quot;&gt;Help &amp;gt; Eclipse Marketplace&lt;/code&gt;를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_10.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 후 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;sts&lt;/code&gt;를 검색하면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring Tools&lt;/code&gt;가 뜰 텐데, 나는 이 중 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring Tools 3&lt;/code&gt;를 선택 해 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_11.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후 나오는 창에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Confirm&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;I accept the terms of the license agreements&lt;/code&gt; 선택 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Finish&lt;/code&gt;를 각각 클릭 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_12.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_13.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring Tools&lt;/code&gt;의 설치가 끝난다.&lt;/p&gt;

&lt;h2 id=&quot;4-tomcat-설치&quot;&gt;4. Tomcat 설치&lt;/h2&gt;

&lt;p&gt;이제 웹 어플리케이션을 구동하기 위한 &lt;code class=&quot;highlighter-rouge&quot;&gt;WAS(Web Application Server)&lt;/code&gt;를 설치 해 주어야 한다.&lt;/p&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat&lt;/code&gt;을 선택했다.&lt;/p&gt;

&lt;p&gt;설치 파일은 아래 링크에서 다운받을 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://tomcat.apache.org/&quot;&gt;http://tomcat.apache.org/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;해당 사이트에 접속하면 아래와 같을 것이다.&lt;/p&gt;

&lt;p&gt;왼쪽의 &lt;code class=&quot;highlighter-rouge&quot;&gt;Download&lt;/code&gt; 메뉴에서 설치 할 버전을 선택하면 되는데, 나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat 9&lt;/code&gt;를 설치하기로 했다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_14.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음 페이지로 넘어가서 각 환경에 맞는 설치 파일을 다운받아 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_15.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;설치 파일을 실행한 후, 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Next&lt;/code&gt;를 계속 눌러 설치를 완료했다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_16.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_17.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-eclipse-설정&quot;&gt;5. Eclipse 설정&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;까지 설치가 완료 됬으면, &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;에서 구현한 웹 소스코드를 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;을 통해 구동하기 위해 설정을 해주어야 한다.&lt;/p&gt;

&lt;p&gt;상단의 메뉴 중 &lt;code class=&quot;highlighter-rouge&quot;&gt;Windows &amp;gt; Preferences&lt;/code&gt;를 선택한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_18.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 아래와 같은 창이 뜨는데, 여기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Server &amp;gt; Runtime Environments&lt;/code&gt;를 선택하고, &lt;code class=&quot;highlighter-rouge&quot;&gt;Add&lt;/code&gt;를 눌러준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_19.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 후, 자신이 선택 한 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;의 버전을 선택하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Next&lt;/code&gt;를 눌러준다. 나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat 9.0&lt;/code&gt;을 설치했기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat v9.0&lt;/code&gt;을 선택 해 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_20.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음 화면에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat&lt;/code&gt;이 설치되어 있는 경로를 설정 해 주어야 한다. 내 경우에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;C:\Program Files\Apache Software Foundation\Tomcat 9.0&lt;/code&gt;에 설치되어 있었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_21.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;경로 설정 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Finish&lt;/code&gt;를 누르면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Runtime Environments&lt;/code&gt;에 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apache Tomcat v9.0&lt;/code&gt;이 들어가 있는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_22.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 &lt;code class=&quot;highlighter-rouge&quot;&gt;Apply and Close&lt;/code&gt;를 눌러 적용 해 준다.&lt;/p&gt;

&lt;h2 id=&quot;6-프로젝트-생성하기&quot;&gt;6. 프로젝트 생성하기&lt;/h2&gt;

&lt;p&gt;드디어 모든 환경 설정이 끝났다.&lt;/p&gt;

&lt;p&gt;이제 프로젝트를 생성해야 한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;File &amp;gt; New &amp;gt; Other&lt;/code&gt;를 선택 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_23.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 아래와 같은 창이 뜨는데, 여기에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring &amp;gt; Spring Legacy Project&lt;/code&gt;를 선택하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Next&lt;/code&gt;를 눌러준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_24.PNG&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음 화면에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Project name&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;Templates&lt;/code&gt;를 선택해야 한다.&lt;/p&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Project name&lt;/code&gt;은 &lt;code class=&quot;highlighter-rouge&quot;&gt;Board&lt;/code&gt;로 했으며, &lt;code class=&quot;highlighter-rouge&quot;&gt;Persistence&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring MVC Project&lt;/code&gt;로 설정 해 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_25.PNG&quot; alt=&quot;&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음 창에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;top-level package&lt;/code&gt;를 설정 해 주어야 한다. &lt;code class=&quot;highlighter-rouge&quot;&gt;com.mycompany.myapp&lt;/code&gt;과 같은 형태면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_26.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Finish&lt;/code&gt;를 누르면 아래와 같이 알림창이 뜰 텐데 그냥 &lt;code class=&quot;highlighter-rouge&quot;&gt;Yes&lt;/code&gt;를 선택 해 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_27.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;잠시 기다리면 왼쪽에 아래와 같이 프로젝트가 생성 된 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_28.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;7-실행&quot;&gt;7. 실행&lt;/h2&gt;

&lt;p&gt;이제 실행을 해 &lt;code class=&quot;highlighter-rouge&quot;&gt;Spring&lt;/code&gt; 첫 페이지가 나오면 성공이다.&lt;/p&gt;

&lt;p&gt;프로젝트 이름에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;마우스 오른쪽 버튼 &amp;gt; Run As &amp;gt; Run on Server&lt;/code&gt;를 선택 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_29.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 아래와 같은 창이 뜰텐데, 여기에서 내가 설치한 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat&lt;/code&gt;의 버전을 선택 해 주고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Finish&lt;/code&gt;를 눌러준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_30.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;만약 여기서 정상적으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Hello world!&lt;/code&gt;가 나온다면 이제 개발을 시작하면 된다.&lt;/p&gt;

&lt;p&gt;내 경우에는, 아래와 같은 오류가 발생했다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_31.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;오류 메시지에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;ports are invalid&lt;/code&gt;라고 했으니 &lt;code class=&quot;highlighter-rouge&quot;&gt;port&lt;/code&gt; 번호를 수정해야 하는 것 같다.&lt;/p&gt;

&lt;p&gt;하단에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Servers&lt;/code&gt;에서 해당 프로젝트의 서버를 더블클릭 해 준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_32.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그럼 아래와 같이 서버 설정 페이지가 뜰 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_33.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;오른쪽에 보면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ports&lt;/code&gt;가 있는데, 확인 해 보면 내 경우 &lt;code class=&quot;highlighter-rouge&quot;&gt;Tomcat admin port&lt;/code&gt;에 아무 값이 설정되어 있지 않다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_34.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그래서 해당 값을 &lt;code class=&quot;highlighter-rouge&quot;&gt;8000&lt;/code&gt;으로 설정 해 준 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ctrl + s&lt;/code&gt;로 저장 해 주었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_35.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 후 다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;마우스 오른쪽 버튼 &amp;gt; Run As &amp;gt; Run on Server&lt;/code&gt;을 통해 실행시켜 주면 아래와 같이 방화벽 경고가 나올 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_36.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;아래의 &lt;code class=&quot;highlighter-rouge&quot;&gt;액세스 허용&lt;/code&gt;을 선택 해 주면 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;Hello world!&lt;/code&gt;를 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_37.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;또한 다른 웹 브라우저를 통해 접속하고 싶다면, &lt;code class=&quot;highlighter-rouge&quot;&gt;Eclipse&lt;/code&gt;의 경로를 확인 후 웹 브라우저의 주소창에 입력 해 주면 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/spring_board/setting/setting_38.PNG&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 18 Feb 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Web] Secure 및 HttpOnly 쿠키 옵션</title>
        <link>/pentesting/web/2020/02/04/Web-httponly_cookie.html</link>
        <guid isPermaLink="true">/pentesting/web/2020/02/04/Web-httponly_cookie.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;XSS&lt;/code&gt;는 수 년간 &lt;code class=&quot;highlighter-rouge&quot;&gt;OWASP Top 10&lt;/code&gt;에서 사라지지 않는 취약점 중 하나이다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;XSS&lt;/code&gt;의 주된 공격 타겟은 바로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Session Cookies 탈취&lt;/code&gt;라고 한다.&lt;/p&gt;

&lt;p&gt;그래서 오늘은 이에 대응할 수 있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Secure&lt;/code&gt; 와 &lt;code class=&quot;highlighter-rouge&quot;&gt;HttpOnly&lt;/code&gt; 옵션에 대해 정리하려 한다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;1-secure&quot;&gt;1. Secure&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Secure&lt;/code&gt;는 웹 브라우저와 웹 서버가 &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTPS&lt;/code&gt;로 통신하는 경우에만 웹 브라우저가 쿠키를 서버로 전송하는 옵션이다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://owasp.org/www-community/controls/SecureFlag&quot;&gt;OWASP Secure Cookie Flag&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;설정하는 방법은 다음과 같다.&lt;/p&gt;

&lt;h4 id=&quot;java-servlet-30java-ee-6&quot;&gt;JAVA (Servlet 3.0(Java EE 6))&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;web.xml&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;session-config&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;cookie-config&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;secure&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/secure&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/cookie-config&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/session-config&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;tomcat&quot;&gt;Tomcat&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Tomcat 6 이상&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;만약 첫 세션 요청이 &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt;를 통해 이루어지는 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;session cookie&lt;/code&gt;에 자동으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;secure&lt;/code&gt;가 설정&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Tomcat 6 이전&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SET-COOKIE&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;JSESSIONID=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;; secure&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;net&quot;&gt;.NET&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;web.config&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;system.web&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;httpCookies&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;requreSSL=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/system.web&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;ex)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;authentication&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;mode=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;forms&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;forms&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;loginUrl=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;member_login.aspx&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;cookieless=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;useCookies&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;requireSSL=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;path=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/MyApplication&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/authentication&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;pythoncherrypy&quot;&gt;Python(cherryPy)&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;configuration file에 추가&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;secure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;php&quot;&gt;PHP&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;php.ini&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cookie_secure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;2-httponly&quot;&gt;2. HttpOnly&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;HttpOnly&lt;/code&gt;는 자바스크립트의 &lt;code class=&quot;highlighter-rouge&quot;&gt;document.cookie&lt;/code&gt;를 이용 해 쿠키에 접속하는 것을 막는 옵션이다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://owasp.org/www-community/HttpOnly&quot;&gt;OWASP HttpOnly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;설정하는 방법은 다음과 같다.&lt;/p&gt;

&lt;h4 id=&quot;java-servlet-30java-ee-6-1&quot;&gt;JAVA (Servlet 3.0(Java EE 6))&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;JAVA 코드 내에서&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Cookie&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cookie&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getMyCookie&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;myCookieName&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setHttpOnly&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;/WEB-INF/web.xml&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;session-config&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;cookie-config&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;http-only&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/http-only&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/cookie-config&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/session-config&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;JAVA EE 6 이전&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// JSESSIONID에 다른 flag가 세팅되어 있을 수도 있으므로, 확인 후 설정&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSession&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SET-COOKIE&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;JSESSIONID=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;; HttpOnly&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;tomcat-1&quot;&gt;Tomcat&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Tomcat 6 이상&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;Context&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;path=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/myWebApplicationPath&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;useHttpOnly=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;net-1&quot;&gt;.NET&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;web.config&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;system.web&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;httpCookies&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;httOnlyCookies=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/system.web&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;pythoncherrypy-1&quot;&gt;Python(cherryPy)&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;configuration file에 추가&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httponly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;php-1&quot;&gt;PHP&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;php.ini&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cookie_httponly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;3-설정-적용-확인하기&quot;&gt;3. 설정 적용 확인하기&lt;/h3&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;cookie&lt;/code&gt; 값에 &lt;code class=&quot;highlighter-rouge&quot;&gt;secure&lt;/code&gt;와 &lt;code class=&quot;highlighter-rouge&quot;&gt;HttpOnly&lt;/code&gt;가 설정되어 있는지 손쉽게 확인하고 싶다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;EditThisCookie&lt;/code&gt;라는 크롬 확장 프로그램을 이용하면 된다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg&quot;&gt;EditThisCookie&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;아래는 한 사이트에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;EditThisCookie&lt;/code&gt;를 이용하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;cookie&lt;/code&gt; 값을 확인 해 본 것이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/httponly/httponly_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하단의 옵션을 확인해 본 결과 해당 사이트에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;HttpOnly&lt;/code&gt; 옵션은 적용되어 있지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;Secure&lt;/code&gt; 옵션은 적용되어 있지 않은 것을 알 수 있다.&lt;/p&gt;

&lt;p&gt;따라서 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;document.cookie&lt;/code&gt;를 사용하면 &lt;code class=&quot;highlighter-rouge&quot;&gt;cookie&lt;/code&gt;의 값이 나타나지 않는다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pen-testing/web/httponly/httponly_02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;Secure&lt;/code&gt; 옵션이 적용되어 있지 않기 때문에, &lt;code class=&quot;highlighter-rouge&quot;&gt;HTTP&lt;/code&gt;를 사용하더라도 해당 &lt;code class=&quot;highlighter-rouge&quot;&gt;session cookie&lt;/code&gt;를 사용할 수 있을 것이다.&lt;/p&gt;
</description>
        <pubDate>Tue, 04 Feb 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Python 오류] command errored out with exit status 1 python setup.py egg_info 오류</title>
        <link>/error/python/2020/01/20/Error-pip_install.html</link>
        <guid isPermaLink="true">/error/python/2020/01/20/Error-pip_install.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Linux&lt;/code&gt; 서버에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;pip install&lt;/code&gt;로 &lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt; 모듈을 설치하려고 하니까 계속 오류가 났다.&lt;/p&gt;

&lt;p&gt;오류 해결 방법은 다음과 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;발생한 오류는 제목과 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;command errored&lt;/code&gt;로 시작하는 오류였다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ERROR: command errored out with exit status 1 python setup.py egg_info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 경우, 아래와 같이 입력한 후 다시 &lt;code class=&quot;highlighter-rouge&quot;&gt;pip install&lt;/code&gt;을 통해 설치를 시도해 보면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pip install --upgrade setuptools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 20 Jan 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Docker] Docker 명령어</title>
        <link>/development/docker/2020/01/19/docker-command.html</link>
        <guid isPermaLink="true">/development/docker/2020/01/19/docker-command.html</guid>
        <description>&lt;p&gt;예전에는 문제 출제때문에라도 &lt;code class=&quot;highlighter-rouge&quot;&gt;Docker&lt;/code&gt;를 자주 썼었는데, 이제는 사용 할 일이 별로 없다.&lt;/p&gt;

&lt;p&gt;그러다 보니 명령어를 자꾸 까먹어서 정리한다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;1-build&quot;&gt;1. Build&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker build -t [Name] .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;2-run&quot;&gt;2. Run&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -d -it -p [hostPort]:[ContainerPort] --name [Name] [Name]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;옵션 설명은 다음과 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;-d : &lt;code class=&quot;highlighter-rouge&quot;&gt;Detached mode&lt;/code&gt;. run the container in the background&lt;/li&gt;
  &lt;li&gt;-i : &lt;code class=&quot;highlighter-rouge&quot;&gt;Interactive mode&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;-t : &lt;code class=&quot;highlighter-rouge&quot;&gt;Allocate a pseudo-TTY&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;-it 혹은 -i -t 등으로 사용 할 경우 Docker Container 내에서 명령어 실행 가능&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;-p : &lt;code class=&quot;highlighter-rouge&quot;&gt;Port&lt;/code&gt;. ex) -p 80:80, -p 80:3123&lt;/li&gt;
  &lt;li&gt;–name : &lt;code class=&quot;highlighter-rouge&quot;&gt;Container name&lt;/code&gt;. 아래의 3가지 방법으로 사용할 수 있으며, &lt;code class=&quot;highlighter-rouge&quot;&gt;docker images&lt;/code&gt; 명령어를 통해 &lt;code class=&quot;highlighter-rouge&quot;&gt;Container Name&lt;/code&gt;을 확인할 수 있음&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Identifier type&lt;/th&gt;
      &lt;th&gt;Example value&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;UUID long identifier&lt;/td&gt;
      &lt;td&gt;“f78375b1c487e03c9438c729345e54db9d20cfa2ac1fc3494b6eb60872e74778”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;UUID short identifier&lt;/td&gt;
      &lt;td&gt;“f78375b1c487”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Name&lt;/td&gt;
      &lt;td&gt;“Container Name”&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;3-manange&quot;&gt;3. Manange&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Execute Command&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker exec -i -t [Name] [Command]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ex)&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker exec -i -t [Name] /bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Stop Running&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker stop [Name]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Remove Container&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker rm [Name]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Restart Container&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker restart [Name]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Check Docker Images&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker images
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Check Docker Process&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker ps -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* Remove Cache&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker system prune -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 19 Jan 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Database-DB2] 새로운 User 생성 및 권한 부여하기</title>
        <link>/development/database/2020/01/07/database-db2_grant.html</link>
        <guid isPermaLink="true">/development/database/2020/01/07/database-db2_grant.html</guid>
        <description>&lt;p&gt;이번엔 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB2&lt;/code&gt;에서 새로운 사용자를 생성하고, 해당 사용자에게 권한을 부여하는 방법에 대해 정리한다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;사용한 환경을 다시 한번 적으면 다음과 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Ubuntu 16.04 + Docker&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;일단 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB2&lt;/code&gt;는 구조가 다른 &lt;code class=&quot;highlighter-rouge&quot;&gt;RDBMS&lt;/code&gt;랑 다르다.&lt;/p&gt;

&lt;p&gt;다른 &lt;code class=&quot;highlighter-rouge&quot;&gt;RDBMS&lt;/code&gt;에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB 계정&lt;/code&gt;이 따로 있고 생성할 수 있지만, &lt;code class=&quot;highlighter-rouge&quot;&gt;DB2&lt;/code&gt;에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;OS 계정 == DB 계정&lt;/code&gt;이다.&lt;/p&gt;

&lt;p&gt;즉, 새로운 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB 계정&lt;/code&gt;을 생성하기 위해서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;OS 계정&lt;/code&gt;을 생성해야 한다.&lt;/p&gt;

&lt;p&gt;먼저 일반 계정이 필요할 경우, OS에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;root&lt;/code&gt;로 로그인 후 아래의 명령어를 입력 해 새로운 계정을 생성한다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Docker&lt;/code&gt;로 만들었을 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;Docker의 Shell&lt;/code&gt;을 실행시켜 &lt;code class=&quot;highlighter-rouge&quot;&gt;Docker&lt;/code&gt; 내에서 작업을 해야 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# useradd [USERNAME]
# passwd [USERNAME]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;그런데 만약 관리자 권한이 필요하다면, 해당 계정을 &lt;code class=&quot;highlighter-rouge&quot;&gt;관리자 권한 그룹&lt;/code&gt;에 추가해야 하기 때문에 아래처럼 생성해야 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# useradd -u [UID] -g db2iadm1 -m -d /home/[USERNAME] [USERNAME]
# passwd [USERNAME]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;참고 : &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/ko/SSEPGG_11.1.0/com.ibm.db2.luw.qb.server.doc/doc/t0006742.html&quot;&gt;IBM Db2 데이터베이스 설치를 위한 그룹 및 사용자 ID 작성(Linux 및 Unix)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;계정 생성이 완료 된 후에는 &lt;code class=&quot;highlighter-rouge&quot;&gt;db2inst1&lt;/code&gt; 계정으로 로그인 해 새로 생성한 사용자에게 권한을 부여한다.&lt;/p&gt;

&lt;h4 id=&quot;1-db2inst1-계정으로-로그인&quot;&gt;1. db2inst1 계정으로 로그인&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# su - db2inst1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;2-권한-부여&quot;&gt;2. 권한 부여&lt;/h4&gt;
&lt;h4 id=&quot;ex1&quot;&gt;Ex1)&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# db2 grant connect on database to user [USERNAME]
DB20000I  The SQL command completed successfully.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;ex2&quot;&gt;Ex2)&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# db2 grant dbadm on database to user [USERNAME]
DB20000I  The SQL command completed successfully.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;ex3&quot;&gt;Ex3)&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# db2 grant ACCESSCTRL, BINDADD, CONNECT, CREATETAB, CREATE_EXTERNAL_ROUTINE, CREATE_NOT_FENCED_ROUTINE, CREATE_SECURE_OBJECT, DATAACCESS, DBADM, EXPLAIN, IMPLICIT_SCHEMA, LOAD, QUIESCE_CONNECT, SECADM, SQLADM, WLMADM on database to user [USERNAME] 
DB20000I  The SQL command completed successfully.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;위의 권한 리스트 중 필요한 것을 부여하면 된다.&lt;/p&gt;

&lt;p&gt;각 권한에 대한 간략한 설명은 아래와 같으며, 더욱 자세한 정보는 &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/ko/SSEPGG_10.5.0/com.ibm.db2.luw.sql.ref.doc/doc/r0000958.html&quot;&gt;IBM 공식 홈페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ACCESSCTRL : 액세스 제어 권한 부여.&lt;/li&gt;
  &lt;li&gt;BINDADD : 패키지 작성을 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;CONNECT : 데이터베이스 액세스를 위한 권한&lt;/li&gt;
  &lt;li&gt;CREATETAB : 기본 테이블 작성을 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;CREATE_EXTERNAL_ROUTINE : 외부 루틴 등록 권한 부여.&lt;/li&gt;
  &lt;li&gt;CREATE_NOT_FENCED_ROUTINE : 데이터베이스 관리자의 프로세스에서 실행하는 * 루틴을 등록하기 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;CREATE_SECURE_OBJECT : 보안 트리거 및 보안 함수 작성 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;DATAACCESS : 데이터 액세스를 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;DBADM : 데이터베이스 관리자 권한 부여.&lt;/li&gt;
  &lt;li&gt;EXPLAIN : 명령문 Explain을 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;IMPLICIT_SCHEMA : 내재적인 스키마 작성을 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;LOAD : 데이터베이스에 로드하기 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;QUIESCE_CONNECT : Quiesce 상태에서 데이터베이스에 액세스 하기 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;SCEADM : 보안 관리자 권한 부여.&lt;/li&gt;
  &lt;li&gt;SQLADM : SQL문 실행을 관리하기 위한 권한 부여.&lt;/li&gt;
  &lt;li&gt;WLMADM : 워크로드 관리를 위한 권한 부여.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;여기까지 하면 권한 부여는 완료되지만 아무리 &lt;code class=&quot;highlighter-rouge&quot;&gt;db2&lt;/code&gt;를 입력해도 아래와 같은 오류만 나온다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SQL1092N &quot;The requested command or operation failed because the user ID does not have the authority to perform the requested command or operation. User ID: &quot;&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;에 3줄 정도를 추가해야 한다.&lt;/p&gt;

&lt;p&gt;먼저 새로 생성한 계정으로 로그인한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# su - [USERNAME]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 후 해당 계정의 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;을 열어 아래의 3줄을 추가 해 준다.&lt;/p&gt;

&lt;p&gt;다른 계정의 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;을 수정하지 않도록 주의해야 한다. 자신의 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;의 위치는 &lt;code class=&quot;highlighter-rouge&quot;&gt;/home/[USERNAME]/.bash_profile&lt;/code&gt;이다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi .bash_profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /database/config/db2inst1/sqllib/db2profile &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; /database/config/db2inst1/sqllib/db2profile
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 때, &lt;code class=&quot;highlighter-rouge&quot;&gt;/database/config/db2inst1/sqllib/db2profile&lt;/code&gt;는 자신의 환경에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;db2profile&lt;/code&gt;의 경로를 찾아 적어주면 된다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;(참고) db2profile 찾는 명령어 : &lt;code class=&quot;highlighter-rouge&quot;&gt;find / -name &quot;db2profile&quot; 2&amp;gt; /dev/null&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;그럼 수정 완료 한 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;의 내용은 다음과 같을 것이다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# .bash_profile&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Get the aliases and functions&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ~/.bashrc &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; ~/.bashrc
&lt;span class=&quot;k&quot;&gt;fi

if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /database/config/db2inst1/sqllib/db2profile &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; /database/config/db2inst1/sqllib/db2profile
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# User specific environment and startup programs&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.local/bin:&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/bin

&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;PATH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 후, 아래와 같이 로그아웃 후 다시 해당 계정으로 로그인을 하면 &lt;code class=&quot;highlighter-rouge&quot;&gt;db2&lt;/code&gt;를 사용할 수 있게 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# . .bash_profile
# exit
# su - [USERNAME]
# db2
(c) Copyright IBM Corporation 1993,2007
Command Line Processor for DB2 Client 11.5.0.0

You can issue database manager commands and SQL statements from the command 
prompt. For example:
    db2 =&amp;gt; connect to sample
    db2 =&amp;gt; bind sample.bnd

For general help, type: ?.
For command help, type: ? command, where command can be
the first few keywords of a database manager command. For example:
 ? CATALOG DATABASE for help on the CATALOG DATABASE command
 ? CATALOG          for help on all of the CATALOG commands.

To exit db2 interactive mode, type QUIT at the command prompt. Outside 
interactive mode, all commands must be prefixed with 'db2'.
To list the current command option settings, type LIST COMMAND OPTIONS.

For more detailed help, refer to the Online Reference Manual.

db2 =&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;여담&quot;&gt;여담&lt;/h4&gt;
&lt;p&gt;계정을 새로 생성하고 새로 데이터베이스와 테이블을 생성하고 나서 전체 테이블을 조회를 해 봤더니, &lt;code class=&quot;highlighter-rouge&quot;&gt;기존 계정(db2inst1)&lt;/code&gt;으로 생성 한 테이블은 보이지가 않았다.&lt;/p&gt;

&lt;p&gt;알고보니, &lt;code class=&quot;highlighter-rouge&quot;&gt;DB2&lt;/code&gt;는 계정을 &lt;code class=&quot;highlighter-rouge&quot;&gt;OS 계정&lt;/code&gt;으로 사용하고 있기 때문에 우리가 흔히 생각하는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Super Admin&lt;/code&gt;의 개념 없이 자신이 연결 한 데이터베이스만 접근할 수 있는 것 같다.&lt;/p&gt;

&lt;p&gt;즉, 아래와 같이 &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 A&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_A&lt;/code&gt; 데이터베이스를 생성하고, &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_A&lt;/code&gt;에 연결하여 테이블 &lt;code class=&quot;highlighter-rouge&quot;&gt;TB_A&lt;/code&gt;를 생성하고, &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 B&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt; 데이터베이스를 생성하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt;에 연결하여 테이블 &lt;code class=&quot;highlighter-rouge&quot;&gt;TB_B&lt;/code&gt;를 생성했다고 가정하자.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;사용자 A : DB_A 생성 -&amp;gt; TB_A 생성&lt;/li&gt;
  &lt;li&gt;사용자 B : DB_B 생성 -&amp;gt; TB_B 생성&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;이 때, &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 A&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_A&lt;/code&gt;에 연결하여 조회한다면, &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt;에 생성되어 있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;TB_B&lt;/code&gt;는 조회를 할 수 없다.&lt;/p&gt;

&lt;p&gt;같은 맥락으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 B&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt;에 연결했다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_A&lt;/code&gt;에 있는 테이블은 조회할 수 없다.&lt;/p&gt;

&lt;p&gt;또한 &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 A&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt;에 연결하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;TB_C&lt;/code&gt;를 생성했다 하더라도, &lt;code class=&quot;highlighter-rouge&quot;&gt;사용자 A&lt;/code&gt;가 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_A&lt;/code&gt;에 연결되어 있다면 본인이 만든 테이블임에도 &lt;code class=&quot;highlighter-rouge&quot;&gt;DB_B&lt;/code&gt;에 있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;TB_C&lt;/code&gt;는 조회할 수 없다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IBM DB2 9.7 버전&lt;/code&gt; 이상부터 &lt;code class=&quot;highlighter-rouge&quot;&gt;OS 계정&lt;/code&gt;만 사용할 수 있게 되며 생긴 보안 패치라고 한다.&lt;/p&gt;
</description>
        <pubDate>Tue, 07 Jan 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Database-DB2] DB2 Query 정리</title>
        <link>/development/database/2020/01/06/database-db2_query.html</link>
        <guid isPermaLink="true">/development/database/2020/01/06/database-db2_query.html</guid>
        <description>&lt;p&gt;DB2의 데이터베이스 및 테이블을 생성하고, 데이터를 추출하는 쿼리는 다음과 같다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;일단 DB2에서는 쿼리를 2가지 방법으로 실행할 수 있다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// 그냥 Shell에서 실행
# db2 &quot;Query&quot;

OR

// Shell에서 db2 콘솔 실행
# db2
db2 =&amp;gt; Query // db2 콘솔에서 쿼리 실행
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;예를 들면 다음과 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# db2 &quot;select * from table;&quot;

OR

# db2
db2 =&amp;gt; select * from table;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;어느 방법이든 쿼리와 결과는 동일하기 때문에 편한 방식으로 사용하면 될 것 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;데이터베이스 생성&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;database&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DB_NAME&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;테이블 생성&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DB_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;COL_1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;COL_2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;insert&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DB_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;COL_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;COL_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'VAL1_1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'VAL1_2'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'VAL1_1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'VAL1_2'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;select&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DB_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;TABLE_NAME&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CONDITION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;참고사항&quot;&gt;참고사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;where절 사용 시, 문자는 작은따옴표(‘)로 묶어야 하고, 조건은 대소문자를 구분한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'CONDITION'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 때, ‘CONDITION’은 대소문자를 구분하기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;col='condition'&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;col='CONDITION'&lt;/code&gt;은 다른 결과를 얻는다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;전체 데이터베이스 리스트 출력&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;database&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;directory&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;전체 테이블 리스트 확인&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysibm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;systables&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 때, &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; 컬럼은 &lt;code class=&quot;highlighter-rouge&quot;&gt;테이블 명&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;creator&lt;/code&gt; 컬럼은 &lt;code class=&quot;highlighter-rouge&quot;&gt;데이터베이스 명&lt;/code&gt;이다. 따라서 아래와 같이 사용하면 특정 데이터베이스 내의 테이블 명만 추출할 수 있다.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysibm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;systables&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'DB_NAME'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;특정 개수만큼 select&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE_NAME&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NUM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이렇게 하면 각 테이블의 &lt;code class=&quot;highlighter-rouge&quot;&gt;첫 행부터 NUM개의 행&lt;/code&gt;을 &lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt; 한다. 만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;마지막 행부터 특정 개수의 행을 추출&lt;/code&gt;하고 싶다면, 특정 column을 기준으로 &lt;code class=&quot;highlighter-rouge&quot;&gt;order by desc&lt;/code&gt;한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;fetch first NUM rows only&lt;/code&gt;를 사용해야 한다.&lt;br /&gt;
(IBM 공식 답변에 따르면 테이블의 마지막 행부터 특정 개수의 행을 추출하는 쿼리는 따로 만들어져 있지 않다고 함)&lt;/p&gt;
</description>
        <pubDate>Mon, 06 Jan 2020 00:00:00 +0900</pubDate>
      </item>
    
      <item>
        <title>[Jekyll] Local에 Github Blog 세팅하기</title>
        <link>/development/github%20blog/2020/01/06/jekyll-local_blog_setting.html</link>
        <guid isPermaLink="true">/development/github%20blog/2020/01/06/jekyll-local_blog_setting.html</guid>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Github&lt;/code&gt; 블로그를 운영 중에 게시글이 많아지며 블로그 리뉴얼의 필요성을 느꼈다.&lt;/p&gt;

&lt;p&gt;테마를 싹 바꾸는 대대적인 작업이기 때문에 먼저 로컬에서 작업 후, 완성본을 &lt;code class=&quot;highlighter-rouge&quot;&gt;Github&lt;/code&gt;에 &lt;code class=&quot;highlighter-rouge&quot;&gt;push&lt;/code&gt; 하기로 했다.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu 16.04 Server version&lt;/code&gt;에 세팅을 했다.&lt;/p&gt;

&lt;p&gt;설치를 해야하는 항목은 다음과 같다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Nodejs&lt;/li&gt;
  &lt;li&gt;RubyGems&lt;/li&gt;
  &lt;li&gt;Ruby&lt;/li&gt;
  &lt;li&gt;gcc / g++ / make&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;각각의 설치 방법은 다음과 같다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# apt-get install -y nodejs
# apt-get install -y rubygems
# apt-get install -y ruby
# apt-get install -y ruby-dev
# apt-get install -y gcc
# apt-get install -y g++
# apt-get install -y make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;을 설치해야 한다. 만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;gem install jekyll&lt;/code&gt;을 하면 &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll 4.0.0&lt;/code&gt;이 설치되는데, 이 경우 해결해야 할 오류가 너무 많다. 그래서 나는 그냥 &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll 3.8.5&lt;/code&gt;를 설치했다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# gem install jekyll -v 3.8.5
# gem install bundler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;여기까지 하면 모든 준비가 완료된다.&lt;/p&gt;

&lt;p&gt;이제 내 &lt;code class=&quot;highlighter-rouge&quot;&gt;Github&lt;/code&gt;에서 내 블로그 &lt;code class=&quot;highlighter-rouge&quot;&gt;Repository&lt;/code&gt;를 &lt;code class=&quot;highlighter-rouge&quot;&gt;Clone&lt;/code&gt; 한다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# git clone https://github.com/mingzz1/mingzz1.github.io.git
# cd mingzz1.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Clone&lt;/code&gt;을 했으면 필요한 플러그인을 설치하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;serve&lt;/code&gt;를 해야 한다. (내 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;을 다 지워두었어서 원래 테마의 &lt;code class=&quot;highlighter-rouge&quot;&gt;Github page&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;과 &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt;를 가져왔다.)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# bundle install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;bundle install&lt;/code&gt;을 하는 동안 오류가 난다면, 해당 오류를 잘 읽어보면 된다.&lt;/p&gt;

&lt;p&gt;내 경우 아래와 같은 오류가 계속해서 발생했다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll-4.0.0 requires ruby version &amp;gt;= 2.4.0, which is incompatible with the current version, ruby 2.3.1p112
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;ruby&lt;/code&gt; 버전을 2.4 이상을 설치하거나 &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt; 혹은 &lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll&lt;/code&gt; 버전을 낮추면 된다.&lt;/p&gt;

&lt;p&gt;이 후 만약 아래의 오류가 발생한다면 &lt;code class=&quot;highlighter-rouge&quot;&gt;bundle update jekyll&lt;/code&gt;을 하면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Downloading jekyll-3.8.3 revealed dependencies not in the API or the lockfile (i18n (~&amp;gt;
0.7), jekyll-sass-converter (~&amp;gt; 1.0), kramdown (~&amp;gt; 1.14), rouge (&amp;lt; 4, &amp;gt;= 1.7)).
Either installing with `--full-index` or running `bundle update jekyll` should fix the
problem.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bundle install&lt;/code&gt;이 완료되었다면 이제 &lt;code class=&quot;highlighter-rouge&quot;&gt;serve&lt;/code&gt;를 하면 된다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;serve&lt;/code&gt; 시, 나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;Server version&lt;/code&gt;의 &lt;code class=&quot;highlighter-rouge&quot;&gt;Ubuntu&lt;/code&gt;를 사용했기 때문에, 호스트에서 접속해야 해서, 따로 호스팅 주소를 넣어 주었다.&lt;/p&gt;

&lt;p&gt;이 주소는 해당 가상머신 혹은 서버의 IP 주소를 넣어주면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# bundle exec jekyll serve -H 192.168.222.144
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;웹 브라우저로 &lt;code class=&quot;highlighter-rouge&quot;&gt;http://192.168.222.144:4000&lt;/code&gt;에 접속하면 내 블로그가 떠 있는 것을 확인할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/development/blog/local_set/local_set_01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 06 Jan 2020 00:00:00 +0900</pubDate>
      </item>
    
  </channel>
</rss>
